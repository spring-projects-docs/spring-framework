# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2026-01-22 17:13+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:2
#, no-wrap
msgid "Functional Endpoints"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:5
msgid ""
"[.small]#xref:web/webflux-functional.adoc[See equivalent in the Reactive "
"stack]#"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:10
msgid ""
"Spring Web MVC includes WebMvc.fn, a lightweight functional programming "
"model in which functions are used to route and handle requests and contracts "
"are designed for immutability.  It is an alternative to the annotation-based "
"programming model but otherwise runs on the same "
"xref:web/webmvc/mvc-servlet.adoc[DispatcherServlet]."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:13
#, no-wrap
msgid "Overview"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:15
msgid ""
"[.small]#xref:web/webflux-functional.adoc#webflux-fn-overview[See equivalent "
"in the Reactive stack]#"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:22
msgid ""
"In WebMvc.fn, an HTTP request is handled with a `HandlerFunction`: a "
"function that takes `ServerRequest` and returns a `ServerResponse`.  Both "
"the request and the response object have immutable contracts that offer JDK "
"8-friendly access to the HTTP request and response.  `HandlerFunction` is "
"the equivalent of the body of a `@RequestMapping` method in the "
"annotation-based programming model."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:28
msgid ""
"Incoming requests are routed to a handler function with a `RouterFunction`: "
"a function that takes `ServerRequest` and returns an optional "
"`HandlerFunction` (i.e. `Optional<HandlerFunction>`).  When the router "
"function matches, a handler function is returned; otherwise an empty "
"Optional.  `RouterFunction` is the equivalent of a `@RequestMapping` "
"annotation, but with the major difference that router functions provide not "
"just data, but also behavior."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:31
msgid ""
"`RouterFunctions.route()` provides a router builder that facilitates the "
"creation of routers, as the following example shows:"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:34
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:132
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:153
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:172
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:192
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:218
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:239
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:261
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:285
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:301
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:362
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:389
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:478
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:577
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:636
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:704
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:741
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:785
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:834
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:865
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:921
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:978
#, no-wrap
msgid "Java"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:41
#, no-wrap
msgid ""
"\timport static org.springframework.http.MediaType.APPLICATION_JSON;\n"
"\timport static "
"org.springframework.web.servlet.function.RequestPredicates.*;\n"
"\timport static "
"org.springframework.web.servlet.function.RouterFunctions.route;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:44
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:645
#, no-wrap
msgid ""
"\tPersonRepository repository = ...\n"
"\tPersonHandler handler = new PersonHandler(repository);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:50
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = route() // <1>\n"
"\t\t.GET(\"/person/{id}\", accept(APPLICATION_JSON), handler::getPerson)\n"
"\t\t.GET(\"/person\", accept(APPLICATION_JSON), handler::listPeople)\n"
"\t\t.POST(\"/person\", handler::createPerson)\n"
"\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:53
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:483
#, no-wrap
msgid "\tpublic class PersonHandler {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:55
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:92
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:487
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:517
#, no-wrap
msgid "\t\t// ...\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:59
#, no-wrap
msgid ""
"\t\tpublic ServerResponse listPeople(ServerRequest request) {\n"
"\t\t\t// ...\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:63
#, no-wrap
msgid ""
"\t\tpublic ServerResponse createPerson(ServerRequest request) {\n"
"\t\t\t// ...\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:68
#, no-wrap
msgid ""
"\t\tpublic ServerResponse getPerson(ServerRequest request) {\n"
"\t\t\t// ...\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:70
msgid "Create router using `route()`."
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:71
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:139
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:160
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:179
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:199
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:226
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:247
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:269
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:327
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:370
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:435
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:508
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:586
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:663
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:717
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:754
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:794
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:846
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:873
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:940
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1001
#, no-wrap
msgid "Kotlin"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:76
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:591
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:722
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:759
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:945
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1006
#, no-wrap
msgid "\timport org.springframework.web.servlet.function.router\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:79
#, no-wrap
msgid ""
"\tval repository: PersonRepository = ...\n"
"\tval handler = PersonHandler(repository)\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:87
#, no-wrap
msgid ""
"\tval route = router { // <1>\n"
"\t\taccept(APPLICATION_JSON).nest {\n"
"\t\t\tGET(\"/person/{id}\", handler::getPerson)\n"
"\t\t\tGET(\"/person\", handler::listPeople)\n"
"\t\t}\n"
"\t\tPOST(\"/person\", handler::createPerson)\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:90
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:440
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:513
#, no-wrap
msgid "\tclass PersonHandler(private val repository: PersonRepository) {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:96
#, no-wrap
msgid ""
"\t\tfun listPeople(request: ServerRequest): ServerResponse {\n"
"\t\t\t// ...\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:100
#, no-wrap
msgid ""
"\t\tfun createPerson(request: ServerRequest): ServerResponse {\n"
"\t\t\t// ...\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:105
#, no-wrap
msgid ""
"\t\tfun getPerson(request: ServerRequest): ServerResponse {\n"
"\t\t\t// ...\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:107
msgid "Create router using the router DSL."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:113
msgid ""
"If you register the `RouterFunction` as a bean, for instance by exposing it "
"in a `@Configuration` class, it will be auto-detected by the servlet, as "
"explained in xref:web/webmvc-functional.adoc#webmvc-fn-running[Running a "
"Server]."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:116
#, no-wrap
msgid "HandlerFunction"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:118
msgid ""
"[.small]#xref:web/webflux-functional.adoc#webflux-fn-handler-functions[See "
"equivalent in the Reactive stack]#"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:121
msgid ""
"`ServerRequest` and `ServerResponse` are immutable interfaces that offer JDK "
"8-friendly access to the HTTP request and response, including headers, body, "
"method, and status code."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:123
#, no-wrap
msgid "ServerRequest"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:127
msgid ""
"`ServerRequest` provides access to the HTTP method, URI, headers, and query "
"parameters, while access to the body is provided through the `body` methods."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:129
msgid "The following example extracts the request body to a `String`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:137
#, no-wrap
msgid "String string = request.body(String.class);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:144
#, no-wrap
msgid "val string = request.body<String>()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:150
msgid ""
"The following example extracts the body to a `List<Person>`, where `Person` "
"objects are decoded from a serialized form, such as JSON or XML:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:158
#, no-wrap
msgid ""
"List<Person> people = request.body(new "
"ParameterizedTypeReference<List<Person>>() {});\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:165
#, no-wrap
msgid "val people = request.body<Person>()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:169
msgid "The following example shows how to access parameters:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:177
#, no-wrap
msgid "MultiValueMap<String, String> params = request.params();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:184
#, no-wrap
msgid "val map = request.params()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:189
msgid ""
"The following shows how to bind request parameters, URI variables, or "
"headers via `DataBinder`, and also shows how to customize the `DataBinder`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:197
#, no-wrap
msgid ""
"Pet pet = request.bind(Pet.class, dataBinder -> "
"dataBinder.setAllowedFields(\"name\"));\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:204
#, no-wrap
msgid ""
"val pet = request.bind(Pet::class.java, {dataBinder -> "
"dataBinder.setAllowedFields(\"name\")})\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:209
#, no-wrap
msgid "ServerResponse"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:215
msgid ""
"`ServerResponse` provides access to the HTTP response and, since it is "
"immutable, you can use a `build` method to create it. You can use the "
"builder to set the response status, to add response headers, or to provide a "
"body. The following example creates a 200 (OK) response with JSON content:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:224
#, no-wrap
msgid ""
"Person person = ...\n"
"ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).body(person);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:232
#, no-wrap
msgid ""
"val person: Person = ...\n"
"ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).body(person)\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:236
msgid ""
"The following example shows how to build a 201 (CREATED) response with a "
"`Location` header and no body:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:245
#, no-wrap
msgid ""
"URI location = ...\n"
"ServerResponse.created(location).build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:253
#, no-wrap
msgid ""
"val location: URI = ...\n"
"ServerResponse.created(location).build()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:258
msgid ""
"You can also use an asynchronous result as the body, in the form of a "
"`CompletableFuture`, `Publisher`, or any other type supported by the "
"`ReactiveAdapterRegistry`. For instance:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:267
#, no-wrap
msgid ""
"Mono<Person> person = webClient.get().retrieve().bodyToMono(Person.class);\n"
"ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).body(person);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:275
#, no-wrap
msgid ""
"val person = webClient.get().retrieve().awaitBody<Person>()\n"
"ServerResponse.ok().contentType(MediaType.APPLICATION_JSON).body(person)\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:282
msgid ""
"If not just the body, but also the status or headers are based on an "
"asynchronous type, you can use the static `async` method on "
"`ServerResponse`, which accepts `CompletableFuture<ServerResponse>`, "
"`Publisher<ServerResponse>`, or any other asynchronous type supported by the "
"`ReactiveAdapterRegistry`. For instance:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:292
#, no-wrap
msgid ""
"Mono<ServerResponse> asyncResponse = "
"webClient.get().retrieve().bodyToMono(Person.class)\n"
"  .map(p -> ServerResponse.ok().header(\"Name\", p.name()).body(p));\n"
"ServerResponse.async(asyncResponse);\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:298
msgid ""
"https://html.spec.whatwg.org/multipage/server-sent-events.html[Server-Sent "
"Events] can be provided via the static `sse` method on `ServerResponse`. The "
"builder provided by that method allows you to send Strings, or other objects "
"as JSON. For example:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:310
#, no-wrap
msgid ""
"\tpublic RouterFunction<ServerResponse> sse() {\n"
"\t\treturn route(GET(\"/sse\"), request -> ServerResponse.sse(sseBuilder -> "
"{\n"
"\t\t\t\t\t// Save the sseBuilder object somewhere..\n"
"\t\t\t\t}));\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:313
#, no-wrap
msgid ""
"\t// In some other thread, sending a String\n"
"\tsseBuilder.send(\"Hello world\");\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:317
#, no-wrap
msgid ""
"\t// Or an object, which will be transformed into JSON\n"
"\tPerson person = ...\n"
"\tsseBuilder.send(person);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:322
#, no-wrap
msgid ""
"\t// Customize the event by using the other methods\n"
"\tsseBuilder.id(\"42\")\n"
"\t\t\t.event(\"sse event\")\n"
"\t\t\t.data(person);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:325
#, no-wrap
msgid ""
"\t// and done at some point\n"
"\tsseBuilder.complete();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:336
#, no-wrap
msgid ""
"\tfun sse(): RouterFunction<ServerResponse> = router {\n"
"\t\tGET(\"/sse\") { request -> ServerResponse.sse { sseBuilder ->\n"
"\t\t\t// Save the sseBuilder object somewhere..\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:339
#, no-wrap
msgid ""
"\t// In some other thread, sending a String\n"
"\tsseBuilder.send(\"Hello world\")\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:343
#, no-wrap
msgid ""
"\t// Or an object, which will be transformed into JSON\n"
"\tval person = ...\n"
"\tsseBuilder.send(person)\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:348
#, no-wrap
msgid ""
"\t// Customize the event by using the other methods\n"
"\tsseBuilder.id(\"42\")\n"
"\t\t\t.event(\"sse event\")\n"
"\t\t\t.data(person)\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:351
#, no-wrap
msgid ""
"\t// and done at some point\n"
"\tsseBuilder.complete()\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:355
#, no-wrap
msgid "Handler Classes"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:358
msgid "We can write a handler function as a lambda, as the following example shows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:368
#, no-wrap
msgid ""
"HandlerFunction<ServerResponse> helloWorld =\n"
"  request -> ServerResponse.ok().body(\"Hello World\");\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:376
#, no-wrap
msgid ""
"val helloWorld: (ServerRequest) -> ServerResponse =\n"
"  { ServerResponse.ok().body(\"Hello World\") }\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:385
msgid ""
"That is convenient, but in an application we need multiple functions, and "
"multiple inline lambda's can get messy.  Therefore, it is useful to group "
"related handler functions together into a handler class, which has a similar "
"role as `@Controller` in an annotation-based application.  For example, the "
"following class exposes a reactive `Person` repository:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:395
#, no-wrap
msgid ""
"import static org.springframework.http.MediaType.APPLICATION_JSON;\n"
"import static "
"org.springframework.web.reactive.function.server.ServerResponse.ok;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:397
#, no-wrap
msgid "public class PersonHandler {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:399
#, no-wrap
msgid "\tprivate final PersonRepository repository;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:403
#, no-wrap
msgid ""
"\tpublic PersonHandler(PersonRepository repository) {\n"
"\t\tthis.repository = repository;\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:408
#, no-wrap
msgid ""
"\tpublic ServerResponse listPeople(ServerRequest request) { // <1>\n"
"\t\tList<Person> people = repository.allPeople();\n"
"\t\treturn ok().contentType(APPLICATION_JSON).body(people);\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:414
#, no-wrap
msgid ""
"\tpublic ServerResponse createPerson(ServerRequest request) throws Exception "
"{ // <2>\n"
"\t\tPerson person = request.body(Person.class);\n"
"\t\trepository.savePerson(person);\n"
"\t\treturn ok().build();\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:425
#, no-wrap
msgid ""
"\tpublic ServerResponse getPerson(ServerRequest request) { // <3>\n"
"\t\tint personId = Integer.parseInt(request.pathVariable(\"id\"));\n"
"\t\tPerson person = repository.getPerson(personId);\n"
"\t\tif (person != null) {\n"
"\t\t\treturn ok().contentType(APPLICATION_JSON).body(person);\n"
"\t\t}\n"
"\t\telse {\n"
"\t\t\treturn ServerResponse.notFound().build();\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:427
#, no-wrap
msgid "}\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:430
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:462
msgid ""
"`listPeople` is a handler function that returns all `Person` objects found "
"in the repository as JSON."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:431
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:463
msgid ""
"`createPerson` is a handler function that stores a new `Person` contained in "
"the request body."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:434
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:466
msgid ""
"`getPerson` is a handler function that returns a single person, identified "
"by the `id` path variable. We retrieve that `Person` from the repository and "
"create a JSON response, if it is found. If it is not found, we return a 404 "
"Not Found response."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:445
#, no-wrap
msgid ""
"\t\tfun listPeople(request: ServerRequest): ServerResponse { // <1>\n"
"\t\t\tval people: List<Person> = repository.allPeople()\n"
"\t\t\treturn ok().contentType(APPLICATION_JSON).body(people);\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:451
#, no-wrap
msgid ""
"\t\tfun createPerson(request: ServerRequest): ServerResponse { // <2>\n"
"\t\t\tval person = request.body<Person>()\n"
"\t\t\trepository.savePerson(person)\n"
"\t\t\treturn ok().build()\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:456
#, no-wrap
msgid ""
"\t\tfun getPerson(request: ServerRequest): ServerResponse { // <3>\n"
"\t\t\tval personId = request.pathVariable(\"id\").toInt()\n"
"\t\t\treturn repository.getPerson(personId)?.let { "
"ok().contentType(APPLICATION_JSON).body(it) }\n"
"\t\t\t\t\t?: ServerResponse.notFound().build()\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:459
#, no-wrap
msgid ""
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:470
#, no-wrap
msgid "Validation"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:475
msgid ""
"A functional endpoint can use Spring's "
"xref:web/webmvc/mvc-config/validation.adoc[validation facilities] to apply "
"validation to the request body. For example, given a custom Spring "
"xref:web/webmvc/mvc-config/validation.adoc[Validator] implementation for a "
"`Person`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:485
#, no-wrap
msgid "\t\tprivate final Validator validator = new PersonValidator(); // <1>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:494
#, no-wrap
msgid ""
"\t\tpublic ServerResponse createPerson(ServerRequest request) {\n"
"\t\t\tPerson person = request.body(Person.class);\n"
"\t\t\tvalidate(person); // <2>\n"
"\t\t\trepository.savePerson(person);\n"
"\t\t\treturn ok().build();\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:503
#, no-wrap
msgid ""
"\t\tprivate void validate(Person person) {\n"
"\t\t\tErrors errors = new BeanPropertyBindingResult(person, \"person\");\n"
"\t\t\tvalidator.validate(person, errors);\n"
"\t\t\tif (errors.hasErrors()) {\n"
"\t\t\t\tthrow new ServerWebInputException(errors.toString()); // <3>\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:505
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:535
msgid "Create `Validator` instance."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:506
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:536
msgid "Apply validation."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:507
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:537
msgid "Raise exception for a 400 response."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:515
#, no-wrap
msgid "\t\tprivate val validator = PersonValidator() // <1>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:524
#, no-wrap
msgid ""
"\t\tfun createPerson(request: ServerRequest): ServerResponse {\n"
"\t\t\tval person = request.body<Person>()\n"
"\t\t\tvalidate(person) // <2>\n"
"\t\t\trepository.savePerson(person)\n"
"\t\t\treturn ok().build()\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:533
#, no-wrap
msgid ""
"\t\tprivate fun validate(person: Person) {\n"
"\t\t\tval errors: Errors = BeanPropertyBindingResult(person, \"person\")\n"
"\t\t\tvalidator.validate(person, errors)\n"
"\t\t\tif (errors.hasErrors()) {\n"
"\t\t\t\tthrow ServerWebInputException(errors.toString()) // <3>\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:542
msgid ""
"Handlers can also use the standard bean validation API (JSR-303) by creating "
"and injecting a global `Validator` instance based on "
"`LocalValidatorFactoryBean`.  See "
"xref:core/validation/beanvalidation.adoc[Spring Validation]."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:545
#, no-wrap
msgid "`RouterFunction`"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:547
msgid ""
"[.small]#xref:web/webflux-functional.adoc#webflux-fn-router-functions[See "
"equivalent in the Reactive stack]#"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:554
msgid ""
"Router functions are used to route the requests to the corresponding "
"`HandlerFunction`.  Typically, you do not write router functions yourself, "
"but rather use a method on the `RouterFunctions` utility class to create "
"one.  `RouterFunctions.route()` (no parameters) provides you with a fluent "
"builder for creating a router function, whereas "
"`RouterFunctions.route(RequestPredicate, HandlerFunction)` offers a direct "
"way to create a router."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:560
msgid ""
"Generally, it is recommended to use the `route()` builder, as it provides "
"convenient short-cuts for typical mapping scenarios without requiring "
"hard-to-discover static imports.  For instance, the router function builder "
"offers the method `GET(String, HandlerFunction)` to create a mapping for GET "
"requests; and `POST(String, HandlerFunction)` for POSTs."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:565
msgid ""
"Besides HTTP method-based mapping, the route builder offers a way to "
"introduce additional predicates when mapping to requests.  For each HTTP "
"method there is an overloaded variant that takes a `RequestPredicate` as a "
"parameter, through which additional constraints can be expressed."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:567
#, no-wrap
msgid "Predicates"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:572
msgid ""
"You can write your own `RequestPredicate`, but the `RequestPredicates` "
"utility class offers built-in options for common needs for matching based on "
"the HTTP method, request path, headers, xref:#api-version[API version], and "
"more."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:574
msgid "The following example uses an `Accept` header, request predicate:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:584
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = RouterFunctions.route()\n"
"\t\t.GET(\"/hello-world\", accept(MediaType.TEXT_PLAIN),\n"
"\t\t\trequest -> ServerResponse.ok().body(\"Hello World\")).build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:597
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\tGET(\"/hello-world\", accept(TEXT_PLAIN)) {\n"
"\t\t\tServerResponse.ok().body(\"Hello World\")\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:601
msgid "You can compose multiple request predicates together by using:"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:603
msgid "`RequestPredicate.and(RequestPredicate)` -- both must match."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:604
msgid "`RequestPredicate.or(RequestPredicate)` -- either can match."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:610
msgid ""
"Many of the predicates from `RequestPredicates` are composed.  For example, "
"`RequestPredicates.GET(String)` is composed from "
"`RequestPredicates.method(HttpMethod)` and "
"`RequestPredicates.path(String)`.  The example shown above also uses two "
"request predicates, as the builder uses `RequestPredicates.GET` internally, "
"and composes that with the `accept` predicate."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:612
#, no-wrap
msgid "Routes"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:621
msgid ""
"Router functions are evaluated in order: if the first route does not match, "
"the second is evaluated, and so on.  Therefore, it makes sense to declare "
"more specific routes before general ones.  This is also important when "
"registering router functions as Spring beans, as will be described later.  "
"Note that this behavior is different from the annotation-based programming "
"model, where the \"most specific\" controller method is picked "
"automatically."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:625
msgid ""
"When using the router function builder, all defined routes are composed into "
"one `RouterFunction` that is returned from `build()`.  There are also other "
"ways to compose multiple router functions together:"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:627
msgid "`add(RouterFunction)` on the `RouterFunctions.route()` builder"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:628
msgid "`RouterFunction.and(RouterFunction)`"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:630
msgid ""
"`RouterFunction.andRoute(RequestPredicate, HandlerFunction)` -- shortcut for "
"`RouterFunction.and()` with nested `RouterFunctions.route()`."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:632
msgid "The following example shows the composition of four routes:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:642
#, no-wrap
msgid ""
"\timport static org.springframework.http.MediaType.APPLICATION_JSON;\n"
"\timport static "
"org.springframework.web.servlet.function.RequestPredicates.*;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:647
#, no-wrap
msgid "\tRouterFunction<ServerResponse> otherRoute = ...\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:654
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = route()\n"
"\t\t.GET(\"/person/{id}\", accept(APPLICATION_JSON), handler::getPerson) // "
"<1>\n"
"\t\t.GET(\"/person\", accept(APPLICATION_JSON), handler::listPeople) // "
"<2>\n"
"\t\t.POST(\"/person\", handler::createPerson) // <3>\n"
"\t\t.add(otherRoute) // <4>\n"
"\t\t.build();\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:657
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:683
msgid ""
"pass:q[`GET /person/{id}`] with an `Accept` header that matches JSON is "
"routed to `PersonHandler.getPerson`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:659
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:685
msgid ""
"`GET /person` with an `Accept` header that matches JSON is routed to "
"`PersonHandler.listPeople`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:661
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:687
msgid ""
"`POST /person` with no additional predicates is mapped to "
"`PersonHandler.createPerson`, and"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:662
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:688
msgid ""
"`otherRoute` is a router function that is created elsewhere, and added to "
"the route built."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:669
#, no-wrap
msgid ""
"\timport org.springframework.http.MediaType.APPLICATION_JSON\n"
"\timport org.springframework.web.servlet.function.router\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:672
#, no-wrap
msgid ""
"\tval repository: PersonRepository = ...\n"
"\tval handler = PersonHandler(repository);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:674
#, no-wrap
msgid "\tval otherRoute = router {  }\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:680
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\tGET(\"/person/{id}\", accept(APPLICATION_JSON), handler::getPerson) // "
"<1>\n"
"\t\tGET(\"/person\", accept(APPLICATION_JSON), handler::listPeople) // <2>\n"
"\t\tPOST(\"/person\", handler::createPerson) // <3>\n"
"\t}.and(otherRoute) // <4>\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:691
#, no-wrap
msgid "Nested Routes"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:701
#, no-wrap
msgid ""
"It is common for a group of router functions to have a shared predicate, for "
"instance a shared\n"
"path.\n"
"In the example above, the shared predicate would be a path predicate that "
"matches `/person`,\n"
"used by three of the routes.\n"
"When using annotations, you would remove this duplication by using a "
"type-level `@RequestMapping`\n"
" annotation that maps to `/person`.\n"
"In WebMvc.fn, path predicates can be shared through the `path` method on the "
"router function builder.\n"
"For instance, the last few lines of the example above can be improved in the "
"following way by using nested routes:\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:714
#, no-wrap
msgid ""
"RouterFunction<ServerResponse> route = route()\n"
"\t.path(\"/person\", builder -> builder // <1>\n"
"\t\t.GET(\"/{id}\", accept(APPLICATION_JSON), handler::getPerson)\n"
"\t\t.GET(accept(APPLICATION_JSON), handler::listPeople)\n"
"\t\t.POST(handler::createPerson))\n"
"\t.build();\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:716
msgid ""
"Note that second parameter of `path` is a consumer that takes the router "
"builder."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:730
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\t\"/person\".nest { // <1>\n"
"\t\t\tGET(\"/{id}\", accept(APPLICATION_JSON), handler::getPerson)\n"
"\t\t\tGET(accept(APPLICATION_JSON), handler::listPeople)\n"
"\t\t\tPOST(handler::createPerson)\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:732
msgid "Using `nest` DSL."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:738
msgid ""
"Though path-based nesting is the most common, you can nest on any kind of "
"predicate by using the `nest` method on the builder.  The above still "
"contains some duplication in the form of the shared `Accept`-header "
"predicate.  We can further improve by using the `nest` method together with "
"`accept`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:752
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = route()\n"
"\t\t.path(\"/person\", b1 -> b1\n"
"\t\t\t.nest(accept(APPLICATION_JSON), b2 -> b2\n"
"\t\t\t\t.GET(\"/{id}\", handler::getPerson)\n"
"\t\t\t\t.GET(handler::listPeople))\n"
"\t\t\t.POST(handler::createPerson))\n"
"\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:769
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\t\"/person\".nest {\n"
"\t\t\taccept(APPLICATION_JSON).nest {\n"
"\t\t\t\tGET(\"/{id}\", handler::getPerson)\n"
"\t\t\t\tGET(\"\", handler::listPeople)\n"
"\t\t\t\tPOST(handler::createPerson)\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:775
#, no-wrap
msgid "API Version"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:778
msgid "Router functions support matching by API version."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:782
msgid ""
"First, enable API versioning in the "
"xref:web/webmvc/mvc-config/api-version.adoc[MVC Config], and then you can "
"use the `version` xref:#webmvc-fn-predicates[predicate] as follows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:792
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = RouterFunctions.route()\n"
"\t\t.GET(\"/hello-world\", version(\"1.2\"),\n"
"\t\t\trequest -> ServerResponse.ok().body(\"Hello World\")).build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:803
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\tGET(\"/hello-world\", version(\"1.2\")) {\n"
"\t\t\tServerResponse.ok().body(\"Hello World\")\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:807
msgid "The `version` predicate can be:"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:809
msgid "Fixed version (\"1.2\") -- matches the given version only"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:811
msgid ""
"Baseline version (\"1.2+\") -- matches the given version and above, up to "
"the highest xref:web/webmvc/mvc-config/api-version.adoc[supported version]."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:814
msgid ""
"See xref:web/webmvc-versioning.adoc[API Versioning] for more details on "
"underlying infrastructure and support for API Versioning."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:819
#, no-wrap
msgid "Serving Resources"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:822
msgid "WebMvc.fn provides built-in support for serving resources."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:825
msgid ""
"In addition to the capabilities described below, it is possible to implement "
"even more flexible resource handling thanks to "
"{spring-framework-api}++/web/servlet/function/RouterFunctions.html#resources(java.util.function.Function)++[`RouterFunctions#resource(java.util.function.Function)`]."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:827
#, no-wrap
msgid "Redirecting to a resource"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:831
msgid ""
"It is possible to redirect requests matching a specified predicate to a "
"resource. This can be useful, for example, for handling redirects in Single "
"Page Applications."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:844
#, no-wrap
msgid ""
"\tClassPathResource index = new ClassPathResource(\"static/index.html\");\n"
"\tList<String> extensions = List.of(\"js\", \"css\", \"ico\", \"png\", "
"\"jpg\", \"gif\");\n"
"\tRequestPredicate spaPredicate = "
"path(\"/api/**\").or(path(\"/error\")).negate();\n"
"\tRouterFunction<ServerResponse> redirectToIndex = route()\n"
"\t\t.resource(spaPredicate, index)\n"
"\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:855
#, no-wrap
msgid ""
"\tval redirectToIndex = router {\n"
"\t\tval index = ClassPathResource(\"static/index.html\")\n"
"\t\tval spaPredicate = !(path(\"/api/**\") or path(\"/error\"))\n"
"\t\tresource(spaPredicate, index)\n"
"\t}\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:859
#, no-wrap
msgid "Serving resources from a root location"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:862
msgid ""
"It is also possible to route requests that match a given pattern to "
"resources relative to a given root location."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:871
#, no-wrap
msgid ""
"\tResource location = new FileUrlResource(\"public-resources/\");\n"
"\tRouterFunction<ServerResponse> resources = "
"RouterFunctions.resources(\"/resources/**\", location);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:879
#, no-wrap
msgid ""
"\tval location = FileUrlResource(\"public-resources/\")\n"
"\tval resources = router { resources(\"/resources/**\", location) }\n"
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:884
#, no-wrap
msgid "Running a Server"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:886
msgid ""
"[.small]#xref:web/webflux-functional.adoc#webflux-fn-running[See equivalent "
"in the Reactive stack]#"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:891
msgid ""
"You typically run router functions in a "
"xref:web/webmvc/mvc-servlet.adoc[`DispatcherHandler`]-based setup through "
"the xref:web/webmvc/mvc-config.adoc[MVC Config], which uses Spring "
"configuration to declare the components required to process requests. The "
"MVC Java configuration declares the following infrastructure components to "
"support functional endpoints:"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:895
msgid ""
"`RouterFunctionMapping`: Detects one or more `RouterFunction<?>` beans in "
"the Spring configuration, "
"xref:core/beans/annotation-config/autowired.adoc#beans-factory-ordered[orders "
"them], combines them through `RouterFunction.andOther`, and routes requests "
"to the resulting composed `RouterFunction`."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:897
msgid ""
"`HandlerFunctionAdapter`: Simple adapter that lets `DispatcherHandler` "
"invoke a `HandlerFunction` that was mapped to a request."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:902
msgid ""
"The preceding components let functional endpoints fit within the "
"`DispatcherServlet` request processing lifecycle and also (potentially) run "
"side by side with annotated controllers, if any are declared. It is also how "
"functional endpoints are enabled by the Spring Boot Web starter."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:904
msgid "The following example shows a related Spring MVC configuration:"
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:909
#, no-wrap
msgid "Filtering Handler Functions"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:911
msgid ""
"[.small]#xref:web/webflux-functional.adoc#webflux-fn-handler-filter-function[See "
"equivalent in the Reactive stack]#"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:918
msgid ""
"You can filter handler functions by using the `before`, `after`, or `filter` "
"methods on the routing function builder.  With annotations, you can achieve "
"similar functionality by using `@ControllerAdvice`, a `ServletFilter`, or "
"both.  The filter will apply to all routes that are built by the builder.  "
"This means that filters defined in nested routes do not apply to "
"\"top-level\" routes.  For instance, consider the following example:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:936
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = route()\n"
"\t\t.path(\"/person\", b1 -> b1\n"
"\t\t\t.nest(accept(APPLICATION_JSON), b2 -> b2\n"
"\t\t\t\t.GET(\"/{id}\", handler::getPerson)\n"
"\t\t\t\t.GET(handler::listPeople)\n"
"\t\t\t\t.before(request -> ServerRequest.from(request) // <1>\n"
"\t\t\t\t\t.header(\"X-RequestHeader\", \"Value\")\n"
"\t\t\t\t\t.build()))\n"
"\t\t\t.POST(handler::createPerson))\n"
"\t\t.after((request, response) -> logResponse(response)) // <2>\n"
"\t\t.build();\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:938
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:962
msgid ""
"The `before` filter that adds a custom request header is only applied to the "
"two GET routes."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:939
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:963
msgid ""
"The `after` filter that logs the response is applied to all routes, "
"including the nested ones."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:960
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\t\"/person\".nest {\n"
"\t\t\tGET(\"/{id}\", handler::getPerson)\n"
"\t\t\tGET(handler::listPeople)\n"
"\t\t\tbefore { // <1>\n"
"\t\t\t\tServerRequest.from(it)\n"
"\t\t\t\t\t\t.header(\"X-RequestHeader\", \"Value\").build()\n"
"\t\t\t}\n"
"\t\t}\n"
"\t\tPOST(handler::createPerson)\n"
"\t\tafter { _, response -> // <2>\n"
"\t\t\tlogResponse(response)\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:971
msgid ""
"The `filter` method on the router builder takes a `HandlerFilterFunction`: a "
"function that takes a `ServerRequest` and `HandlerFunction` and returns a "
"`ServerResponse`.  The handler function parameter represents the next "
"element in the chain.  This is typically the handler that is routed to, but "
"it can also be another filter if multiple are applied."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:975
msgid ""
"Now we can add a simple security filter to our route, assuming that we have "
"a `SecurityManager` that can determine whether a particular path is "
"allowed.  The following example shows how to do so:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:983
#, no-wrap
msgid "\tSecurityManager securityManager = ...\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:999
#, no-wrap
msgid ""
"\tRouterFunction<ServerResponse> route = route()\n"
"\t\t.path(\"/person\", b1 -> b1\n"
"\t\t\t.nest(accept(APPLICATION_JSON), b2 -> b2\n"
"\t\t\t\t.GET(\"/{id}\", handler::getPerson)\n"
"\t\t\t\t.GET(handler::listPeople))\n"
"\t\t\t.POST(handler::createPerson))\n"
"\t\t.filter((request, next) -> {\n"
"\t\t\tif (securityManager.allowAccessTo(request.path())) {\n"
"\t\t\t\treturn next.handle(request);\n"
"\t\t\t}\n"
"\t\t\telse {\n"
"\t\t\t\treturn ServerResponse.status(UNAUTHORIZED).build();\n"
"\t\t\t}\n"
"\t\t})\n"
"\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1008
#, no-wrap
msgid "\tval securityManager: SecurityManager = ...\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1024
#, no-wrap
msgid ""
"\tval route = router {\n"
"\t\t(\"/person\" and accept(APPLICATION_JSON)).nest {\n"
"\t\t\tGET(\"/{id}\", handler::getPerson)\n"
"\t\t\tGET(\"\", handler::listPeople)\n"
"\t\t\tPOST(handler::createPerson)\n"
"\t\t\tfilter { request, next ->\n"
"\t\t\t\tif (securityManager.allowAccessTo(request.path())) {\n"
"\t\t\t\t\tnext(request)\n"
"\t\t\t\t}\n"
"\t\t\t\telse {\n"
"\t\t\t\t\tstatus(UNAUTHORIZED).build();\n"
"\t\t\t\t}\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1029
msgid ""
"The preceding example demonstrates that invoking the "
"`next.handle(ServerRequest)` is optional.  We only let the handler function "
"be run when access is allowed."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1032
msgid ""
"Besides using the `filter` method on the router function builder, it is "
"possible to apply a filter to an existing router function via "
"`RouterFunction.filter(HandlerFilterFunction)`."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/web/webmvc-functional.adoc:1034
msgid ""
"CORS support for functional endpoints is provided through a dedicated "
"xref:web/webmvc-cors.adoc#mvc-cors-filter[`CorsFilter`]."
msgstr ""

# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2026-01-20 16:41+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:2
#, no-wrap
msgid "Filters"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:6
msgid ""
"You can register a client filter (`ExchangeFilterFunction`) through the "
"`WebClient.Builder` in order to intercept and modify requests, as the "
"following example shows:"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:9
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:47
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:75
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:108
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:157
#, no-wrap
msgid "Java"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:15
#, no-wrap
msgid ""
"\tWebClient client = WebClient.builder()\n"
"\t\t\t.filter((request, next) -> {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:19
#, no-wrap
msgid ""
"\t\t\t\tClientRequest filtered = ClientRequest.from(request)\n"
"\t\t\t\t\t\t.header(\"foo\", \"bar\")\n"
"\t\t\t\t\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:23
#, no-wrap
msgid ""
"\t\t\t\treturn next.exchange(filtered);\n"
"\t\t\t})\n"
"\t\t\t.build();\n"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:25
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:58
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:88
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:128
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:192
#, no-wrap
msgid "Kotlin"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:31
#, no-wrap
msgid ""
"\tval client = WebClient.builder()\n"
"\t\t\t.filter { request, next ->\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:35
#, no-wrap
msgid ""
"\t\t\t\tval filtered = ClientRequest.from(request)\n"
"\t\t\t\t\t\t.header(\"foo\", \"bar\")\n"
"\t\t\t\t\t\t.build()\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:39
#, no-wrap
msgid ""
"\t\t\t\tnext.exchange(filtered)\n"
"\t\t\t}\n"
"\t\t\t.build()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:44
msgid ""
"This can be used for cross-cutting concerns, such as authentication. The "
"following example uses a filter for basic authentication through a static "
"factory method:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:52
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:80
#, no-wrap
msgid ""
"\timport static "
"org.springframework.web.reactive.function.client.ExchangeFilterFunctions.basicAuthentication;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:56
#, no-wrap
msgid ""
"\tWebClient client = WebClient.builder()\n"
"\t\t\t.filter(basicAuthentication(\"user\", \"password\"))\n"
"\t\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:63
#, no-wrap
msgid ""
"\timport "
"org.springframework.web.reactive.function.client.ExchangeFilterFunctions.basicAuthentication\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:67
#, no-wrap
msgid ""
"\tval client = WebClient.builder()\n"
"\t\t\t.filter(basicAuthentication(\"user\", \"password\"))\n"
"\t\t\t.build()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:72
msgid ""
"Filters can be added or removed by mutating an existing `WebClient` "
"instance, resulting in a new `WebClient` instance that does not affect the "
"original one. For example:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:86
#, no-wrap
msgid ""
"\tWebClient client = webClient.mutate()\n"
"\t\t\t.filters(filterList -> {\n"
"\t\t\t\tfilterList.add(0, basicAuthentication(\"user\", \"password\"));\n"
"\t\t\t})\n"
"\t\t\t.build();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:95
#, no-wrap
msgid ""
"\tval client = webClient.mutate()\n"
"\t\t\t.filters { it.add(0, basicAuthentication(\"user\", \"password\")) }\n"
"\t\t\t.build()\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:105
msgid ""
"`WebClient` is a thin facade around the chain of filters followed by an "
"`ExchangeFunction`. It provides a workflow to make requests, to encode to "
"and from higher level objects, and it helps to ensure that response content "
"is always consumed.  When filters handle the response in some way, extra "
"care must be taken to always consume its content or to otherwise propagate "
"it downstream to the `WebClient` which will ensure the same. Below is a "
"filter that handles the `UNAUTHORIZED` status code but ensures that any "
"response content, whether expected or not, is released:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:126
#, no-wrap
msgid ""
"\tpublic ExchangeFilterFunction renewTokenFilter() {\n"
"\t\treturn (request, next) -> next.exchange(request).flatMap(response -> {\n"
"\t\t\tif (response.statusCode().value() == HttpStatus.UNAUTHORIZED.value()) "
"{\n"
"\t\t\t\treturn response.releaseBody()\n"
"\t\t\t\t\t\t.then(renewToken())\n"
"\t\t\t\t\t\t.flatMap(token -> {\n"
"\t\t\t\t\t\t\tClientRequest newRequest = "
"ClientRequest.from(request).build();\n"
"\t\t\t\t\t\t\treturn next.exchange(newRequest);\n"
"\t\t\t\t\t\t});\n"
"\t\t\t} else {\n"
"\t\t\t\treturn Mono.just(response);\n"
"\t\t\t}\n"
"\t\t});\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:148
#, no-wrap
msgid ""
"\tfun renewTokenFilter(): ExchangeFilterFunction? {\n"
"\t\treturn ExchangeFilterFunction { request: ClientRequest?, next: "
"ExchangeFunction ->\n"
"\t\t\tnext.exchange(request!!).flatMap { response: ClientResponse ->\n"
"\t\t\t\tif (response.statusCode().value() == "
"HttpStatus.UNAUTHORIZED.value()) {\n"
"\t\t\t\t\treturn@flatMap response.releaseBody()\n"
"\t\t\t\t\t\t\t.then(renewToken())\n"
"\t\t\t\t\t\t\t.flatMap { token: String? ->\n"
"\t\t\t\t\t\t\t\tval newRequest = ClientRequest.from(request).build()\n"
"\t\t\t\t\t\t\t\tnext.exchange(newRequest)\n"
"\t\t\t\t\t\t\t}\n"
"\t\t\t\t} else {\n"
"\t\t\t\t\treturn@flatMap Mono.just(response)\n"
"\t\t\t\t}\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:154
msgid ""
"The example below demonstrates how to use the `ExchangeFilterFunction` "
"interface to create a custom filter class that helps with computing a "
"`Content-Length` header for `PUT` and `POST` `multipart/form-data` requests "
"using buffering."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:162
#, no-wrap
msgid ""
"\tpublic class MultipartExchangeFilterFunction implements "
"ExchangeFilterFunction {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:174
#, no-wrap
msgid ""
"\t\t@Override\n"
"\t\tpublic Mono<ClientResponse> filter(ClientRequest request, "
"ExchangeFunction next) {\n"
"\t\t\tif "
"(MediaType.MULTIPART_FORM_DATA.includes(request.headers().getContentType())\n"
"\t\t\t\t\t&& (request.method() == HttpMethod.PUT || request.method() == "
"HttpMethod.POST)) {\n"
"\t\t\t\treturn "
"next.exchange(ClientRequest.from(request).body((outputMessage, context) ->\n"
"\t\t\t\t\trequest.body().insert(new BufferingDecorator(outputMessage), "
"context)).build()\n"
"\t\t\t\t);\n"
"\t\t\t} else {\n"
"\t\t\t\treturn next.exchange(request);\n"
"\t\t\t}\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:176
#, no-wrap
msgid ""
"\t\tprivate static final class BufferingDecorator extends "
"ClientHttpRequestDecorator {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:180
#, no-wrap
msgid ""
"\t\t\tprivate BufferingDecorator(ClientHttpRequest delegate) {\n"
"\t\t\t\tsuper(delegate);\n"
"\t\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:190
#, no-wrap
msgid ""
"\t\t\t@Override\n"
"\t\t\tpublic Mono<Void> writeWith(Publisher<? extends DataBuffer> body) {\n"
"\t\t\t\treturn DataBufferUtils.join(body).flatMap(buffer -> {\n"
"\t\t\t\t\tgetHeaders().setContentLength(buffer.readableByteCount());\n"
"\t\t\t\t\treturn super.writeWith(Mono.just(buffer));\n"
"\t\t\t\t});\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:197
#, no-wrap
msgid "\tclass MultipartExchangeFilterFunction : ExchangeFilterFunction {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:208
#, no-wrap
msgid ""
"\t\toverride fun filter(request: ClientRequest, next: ExchangeFunction): "
"Mono<ClientResponse> {\n"
"\t\t\treturn if "
"(MediaType.MULTIPART_FORM_DATA.includes(request.headers().getContentType())\n"
"\t\t\t\t&& (request.method() == HttpMethod.PUT || request.method() == "
"HttpMethod.POST)) {\n"
"\t\t\t\tnext.exchange(ClientRequest.from(request)\n"
"\t\t\t\t\t.body { message, context -> "
"request.body().insert(BufferingDecorator(message), context) }\n"
"\t\t\t\t\t.build())\n"
"\t\t\t}\n"
"\t\t\telse {\n"
"\t\t\t\tnext.exchange(request)\n"
"\t\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:210
#, no-wrap
msgid "\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/web/webflux-webclient/client-filter.adoc:221
#, no-wrap
msgid ""
"\t\tprivate class BufferingDecorator(delegate: ClientHttpRequest) : "
"ClientHttpRequestDecorator(delegate) {\n"
"\t\t\toverride fun writeWith(body: Publisher<out DataBuffer>): Mono<Void> "
"{\n"
"\t\t\t\treturn DataBufferUtils.join(body)\n"
"\t\t\t\t\t.flatMap {\n"
"\t\t\t\t\t\theaders.contentLength = it.readableByteCount().toLong()\n"
"\t\t\t\t\t\tsuper.writeWith(Mono.just(it))\n"
"\t\t\t\t\t}\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

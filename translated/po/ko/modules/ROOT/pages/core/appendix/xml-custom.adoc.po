# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2026-01-20 16:40+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:2
#, no-wrap
msgid "XML Schema Authoring"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:9
msgid ""
"Since version 2.0, Spring has featured a mechanism for adding schema-based "
"extensions to the basic Spring XML format for defining and configuring "
"beans. This section covers how to write your own custom XML bean definition "
"parsers and integrate such parsers into the Spring IoC container."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:14
msgid ""
"To facilitate authoring configuration files that use a schema-aware XML "
"editor, Spring's extensible XML configuration mechanism is based on XML "
"Schema. If you are not familiar with Spring's current XML configuration "
"extensions that come with the standard Spring distribution, you should first "
"read the previous section on xref:core/appendix/xsd-schemas.adoc[XML "
"Schemas]."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:16
msgid "To create new XML configuration extensions:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:18
msgid ""
"xref:core/appendix/xml-custom.adoc#core.appendix.xsd-custom-schema[Author] "
"an XML schema to describe your custom element(s)."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:19
msgid ""
"xref:core/appendix/xml-custom.adoc#core.appendix.xsd-custom-namespacehandler[Code] "
"a custom `NamespaceHandler` implementation."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:21
msgid ""
"xref:core/appendix/xml-custom.adoc#core.appendix.xsd-custom-parser[Code] one "
"or more `BeanDefinitionParser` implementations (this is where the real work "
"is done)."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:22
msgid ""
"xref:core/appendix/xml-custom.adoc#core.appendix.xsd-custom-registration[Register] "
"your new artifacts with Spring."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:27
msgid ""
"For a unified example, we create an XML extension (a custom XML element) "
"that lets us configure objects of the type `SimpleDateFormat` (from the "
"`java.text` package). When we are done, we will be able to define bean "
"definitions of type `SimpleDateFormat` as follows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:33
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:88
#, no-wrap
msgid ""
"\t<myns:dateformat id=\"dateFormat\"\n"
"\t\tpattern=\"yyyy-MM-dd HH:mm\"\n"
"\t\tlenient=\"true\"/>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:38
msgid ""
"(We include much more detailed examples follow later in this appendix. The "
"intent of this first simple example is to walk you through the basic steps "
"of making a custom extension.)"
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:41
#, no-wrap
msgid "Authoring the Schema"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:46
msgid ""
"Creating an XML configuration extension for use with Spring's IoC container "
"starts with authoring an XML Schema to describe the extension. For our "
"example, we use the following schema to configure `SimpleDateFormat` "
"objects:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:50
#, no-wrap
msgid "\t<!-- myns.xsd (inside package org/springframework/samples/xml) -->\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:58
#, no-wrap
msgid ""
"\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
"\t<xsd:schema xmlns=\"http://www.mycompany.example/schema/myns\"\n"
"\t\t\txmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n"
"\t\t\txmlns:beans=\"http://www.springframework.org/schema/beans\"\n"
"\t\t\ttargetNamespace=\"http://www.mycompany.example/schema/myns\"\n"
"\t\t\telementFormDefault=\"qualified\"\n"
"\t\t\tattributeFormDefault=\"unqualified\">\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:60
#, no-wrap
msgid ""
"\t\t<xsd:import "
"namespace=\"http://www.springframework.org/schema/beans\"/>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:72
#, no-wrap
msgid ""
"\t\t<xsd:element name=\"dateformat\">\n"
"\t\t\t<xsd:complexType>\n"
"\t\t\t\t<xsd:complexContent>\n"
"\t\t\t\t\t<xsd:extension base=\"beans:identifiedType\"> <1>\n"
"\t\t\t\t\t\t<xsd:attribute name=\"lenient\" type=\"xsd:boolean\"/>\n"
"\t\t\t\t\t\t<xsd:attribute name=\"pattern\" type=\"xsd:string\" "
"use=\"required\"/>\n"
"\t\t\t\t\t</xsd:extension>\n"
"\t\t\t\t</xsd:complexContent>\n"
"\t\t\t</xsd:complexType>\n"
"\t\t</xsd:element>\n"
"\t</xsd:schema>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:77
msgid ""
"The indicated line contains an extension base for all identifiable tags "
"(meaning they have an `id` attribute that we can use as the bean identifier "
"in the container). We can use this attribute because we imported the "
"Spring-provided `beans` namespace."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:82
msgid ""
"The preceding schema lets us configure `SimpleDateFormat` objects directly "
"in an XML application context file by using the `<myns:dateformat/>` "
"element, as the following example shows:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:92
msgid ""
"Note that, after we have created the infrastructure classes, the preceding "
"snippet of XML is essentially the same as the following XML snippet:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:99
#, no-wrap
msgid ""
"\t<bean id=\"dateFormat\" class=\"java.text.SimpleDateFormat\">\n"
"\t\t<constructor-arg value=\"yyyy-MM-dd HH:mm\"/>\n"
"\t\t<property name=\"lenient\" value=\"true\"/>\n"
"\t</bean>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:104
msgid ""
"The second of the two preceding snippets creates a bean in the container "
"(identified by the name `dateFormat` of type `SimpleDateFormat`) with a "
"couple of properties set."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:109
msgid ""
"The schema-based approach to creating configuration format allows for tight "
"integration with an IDE that has a schema-aware XML editor. By using a "
"properly authored schema, you can use autocompletion to let a user choose "
"between several configuration options defined in the enumeration."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:112
#, no-wrap
msgid "Coding a `NamespaceHandler`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:118
msgid ""
"In addition to the schema, we need a `NamespaceHandler` to parse all "
"elements of this specific namespace that Spring encounters while parsing "
"configuration files. For this example, the `NamespaceHandler` should take "
"care of the parsing of the `myns:dateformat` element."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:120
msgid "The `NamespaceHandler` interface features three methods:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:123
msgid ""
"`init()`: Allows for initialization of the `NamespaceHandler` and is called "
"by Spring before the handler is used."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:126
msgid ""
"`BeanDefinition parse(Element, ParserContext)`: Called when Spring "
"encounters a top-level element (not nested inside a bean definition or a "
"different namespace).  This method can itself register bean definitions, "
"return a bean definition, or both."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:132
msgid ""
"`BeanDefinitionHolder decorate(Node, BeanDefinitionHolder, ParserContext)`: "
"Called when Spring encounters an attribute or nested element of a different "
"namespace.  The decoration of one or more bean definitions is used (for "
"example) with the xref:core/beans/factory-scopes.adoc[scopes that Spring "
"supports].  We start by highlighting a simple example, without using "
"decoration, after which we show decoration in a somewhat more advanced "
"example."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:140
msgid ""
"Although you can code your own `NamespaceHandler` for the entire namespace "
"(and hence provide code that parses each and every element in the "
"namespace), it is often the case that each top-level XML element in a Spring "
"XML configuration file results in a single bean definition (as in our case, "
"where a single `<myns:dateformat/>` element results in a single "
"`SimpleDateFormat` bean definition). Spring features a number of convenience "
"classes that support this scenario. In the following example, we use the "
"`NamespaceHandlerSupport` class:"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:143
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:199
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:406
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:470
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:588
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:627
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:776
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:832
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:875
#, no-wrap
msgid "Java"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:148
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:204
#, no-wrap
msgid "\tpackage org.springframework.samples.xml;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:150
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:595
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:839
#, no-wrap
msgid "\timport org.springframework.beans.factory.xml.NamespaceHandlerSupport;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:152
#, no-wrap
msgid "\tpublic class MyNamespaceHandler extends NamespaceHandlerSupport {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:157
#, no-wrap
msgid ""
"\t\tpublic void init() {\n"
"\t\t\tregisterBeanDefinitionParser(\"dateformat\", new "
"SimpleDateFormatBeanDefinitionParser());\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:159
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:237
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:439
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:512
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:604
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:678
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:796
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:850
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:931
#, no-wrap
msgid "Kotlin"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:164
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:242
#, no-wrap
msgid "\tpackage org.springframework.samples.xml\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:166
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:611
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:857
#, no-wrap
msgid "\timport org.springframework.beans.factory.xml.NamespaceHandlerSupport\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:168
#, no-wrap
msgid "\tclass MyNamespaceHandler : NamespaceHandlerSupport {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:173
#, no-wrap
msgid ""
"\t\toverride fun init() {\n"
"\t\t\tregisterBeanDefinitionParser(\"dateformat\", "
"SimpleDateFormatBeanDefinitionParser())\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:185
msgid ""
"You may notice that there is not actually a whole lot of parsing logic in "
"this class. Indeed, the `NamespaceHandlerSupport` class has a built-in "
"notion of delegation. It supports the registration of any number of "
"`BeanDefinitionParser` instances, to which it delegates to when it needs to "
"parse an element in its namespace. This clean separation of concerns lets a "
"`NamespaceHandler` handle the orchestration of the parsing of all of the "
"custom elements in its namespace while delegating to `BeanDefinitionParsers` "
"to do the grunt work of the XML parsing. This means that each "
"`BeanDefinitionParser` contains only the logic for parsing a single custom "
"element, as we can see in the next step."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:188
#, no-wrap
msgid "Using `BeanDefinitionParser`"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:196
msgid ""
"A `BeanDefinitionParser` is used if the `NamespaceHandler` encounters an XML "
"element of the type that has been mapped to the specific bean definition "
"parser (`dateformat` in this case). In other words, the "
"`BeanDefinitionParser` is responsible for parsing one distinct top-level XML "
"element defined in the schema. In the parser, we' have access to the XML "
"element (and thus to its subelements, too) so that we can parse our custom "
"XML content, as you can see in the following example:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:209
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.support.BeanDefinitionBuilder;\n"
"\timport "
"org.springframework.beans.factory.xml.AbstractSingleBeanDefinitionParser;\n"
"\timport org.springframework.util.StringUtils;\n"
"\timport org.w3c.dom.Element;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:211
#, no-wrap
msgid "\timport java.text.SimpleDateFormat;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:213
#, no-wrap
msgid ""
"\tpublic class SimpleDateFormatBeanDefinitionParser extends "
"AbstractSingleBeanDefinitionParser { // <1>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:217
#, no-wrap
msgid ""
"\t\tprotected Class getBeanClass(Element element) {\n"
"\t\t\treturn SimpleDateFormat.class; // <2>\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:222
#, no-wrap
msgid ""
"\t\tprotected void doParse(Element element, BeanDefinitionBuilder bean) {\n"
"\t\t\t// this will never be null since the schema explicitly requires that a "
"value be supplied\n"
"\t\t\tString pattern = element.getAttribute(\"pattern\");\n"
"\t\t\tbean.addConstructorArgValue(pattern);\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:229
#, no-wrap
msgid ""
"\t\t\t// this however is an optional property\n"
"\t\t\tString lenient = element.getAttribute(\"lenient\");\n"
"\t\t\tif (StringUtils.hasText(lenient)) {\n"
"\t\t\t\tbean.addPropertyValue(\"lenient\", Boolean.valueOf(lenient));\n"
"\t\t\t}\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:231
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:848
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:866
#, no-wrap
msgid "\t}\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:234
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:271
msgid ""
"We use the Spring-provided `AbstractSingleBeanDefinitionParser` to handle a "
"lot of the basic grunt work of creating a single `BeanDefinition`."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:236
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:273
msgid ""
"We supply the `AbstractSingleBeanDefinitionParser` superclass with the type "
"that our single `BeanDefinition` represents."
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:247
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.support.BeanDefinitionBuilder\n"
"\timport "
"org.springframework.beans.factory.xml.AbstractSingleBeanDefinitionParser\n"
"\timport org.springframework.util.StringUtils\n"
"\timport org.w3c.dom.Element\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:249
#, no-wrap
msgid "\timport java.text.SimpleDateFormat\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:251
#, no-wrap
msgid ""
"\tclass SimpleDateFormatBeanDefinitionParser : "
"AbstractSingleBeanDefinitionParser() { // <1>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:255
#, no-wrap
msgid ""
"\t\toverride fun getBeanClass(element: Element): Class<*>? { // <2>\n"
"\t\t\treturn SimpleDateFormat::class.java\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:260
#, no-wrap
msgid ""
"\t\toverride fun doParse(element: Element, bean: BeanDefinitionBuilder) {\n"
"\t\t\t// this will never be null since the schema explicitly requires that a "
"value be supplied\n"
"\t\t\tval pattern = element.getAttribute(\"pattern\")\n"
"\t\t\tbean.addConstructorArgValue(pattern)\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:268
#, no-wrap
msgid ""
"\t\t\t// this however is an optional property\n"
"\t\t\tval lenient = element.getAttribute(\"lenient\")\n"
"\t\t\tif (StringUtils.hasText(lenient)) {\n"
"\t\t\t\tbean.addPropertyValue(\"lenient\", "
"java.lang.Boolean.valueOf(lenient))\n"
"\t\t\t}\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:278
msgid ""
"In this simple case, this is all that we need to do. The creation of our "
"single `BeanDefinition` is handled by the "
"`AbstractSingleBeanDefinitionParser` superclass, as is the extraction and "
"setting of the bean definition's unique identifier."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:281
#, no-wrap
msgid "Registering the Handler and the Schema"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:290
msgid ""
"The coding is finished. All that remains to be done is to make the Spring "
"XML parsing infrastructure aware of our custom element. We do so by "
"registering our custom `namespaceHandler` and custom XSD file in two "
"special-purpose properties files. These properties files are both placed in "
"a `META-INF` directory in your application and can, for example, be "
"distributed alongside your binary classes in a JAR file. The Spring XML "
"parsing infrastructure automatically picks up your new extension by "
"consuming these special properties files, the formats of which are detailed "
"in the next two sections."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:292
#, no-wrap
msgid "Writing `META-INF/spring.handlers`"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:296
msgid ""
"The properties file called `spring.handlers` contains a mapping of XML "
"Schema URIs to namespace handler classes. For our example, we need to write "
"the following:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:300
#, no-wrap
msgid "http\\://www.mycompany.example/schema/myns=org.springframework.samples.xml.MyNamespaceHandler\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:304
msgid ""
"(The `:` character is a valid delimiter in the Java properties format, so "
"`:` character in the URI needs to be escaped with a backslash.)"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:308
msgid ""
"The first part (the key) of the key-value pair is the URI associated with "
"your custom namespace extension and needs to exactly match exactly the value "
"of the `targetNamespace` attribute, as specified in your custom XSD schema."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:310
#, no-wrap
msgid "Writing 'META-INF/spring.schemas'"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:320
msgid ""
"The properties file called `spring.schemas` contains a mapping of XML Schema "
"locations (referred to, along with the schema declaration, in XML files that "
"use the schema as part of the `xsi:schemaLocation` attribute) to classpath "
"resources. This file is needed to prevent Spring from absolutely having to "
"use a default `EntityResolver` that requires Internet access to retrieve the "
"schema file. If you specify the mapping in this properties file, Spring "
"searches for the schema (in this case, `myns.xsd` in the "
"`org.springframework.samples.xml` package) on the classpath.  The following "
"snippet shows the line we need to add for our custom schema:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:324
#, no-wrap
msgid "http\\://www.mycompany.example/schema/myns/myns.xsd=org/springframework/samples/xml/myns.xsd\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:327
msgid "(Remember that the `:` character must be escaped.)"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:330
msgid ""
"You are encouraged to deploy your XSD file (or files) right alongside the "
"`NamespaceHandler` and `BeanDefinitionParser` classes on the classpath."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:333
#, no-wrap
msgid "Using a Custom Extension in Your Spring XML Configuration"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:339
msgid ""
"Using a custom extension that you yourself have implemented is no different "
"from using one of the \"`custom`\" extensions that Spring provides. The "
"following example uses the custom `<dateformat/>` element developed in the "
"previous steps in a Spring XML configuration file:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:349
#, no-wrap
msgid ""
"\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
"\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n"
"\t\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"
"\t\txmlns:myns=\"http://www.mycompany.example/schema/myns\"\n"
"\t\txsi:schemaLocation=\"\n"
"\t\t\thttp://www.springframework.org/schema/beans "
"https://www.springframework.org/schema/beans/spring-beans.xsd\n"
"\t\t\thttp://www.mycompany.example/schema/myns "
"http://www.mycompany.com/schema/myns/myns.xsd\">\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:352
#, no-wrap
msgid ""
"\t\t<!-- as a top-level bean -->\n"
"\t\t<myns:dateformat id=\"defaultDateFormat\" pattern=\"yyyy-MM-dd HH:mm\" "
"lenient=\"true\"/> <1>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:359
#, no-wrap
msgid ""
"\t\t<bean id=\"jobDetailTemplate\" abstract=\"true\">\n"
"\t\t\t<property name=\"dateFormat\">\n"
"\t\t\t\t<!-- as an inner bean -->\n"
"\t\t\t\t<myns:dateformat pattern=\"HH:mm MM-dd-yyyy\"/>\n"
"\t\t\t</property>\n"
"\t\t</bean>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:361
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:395
#, no-wrap
msgid "\t</beans>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:363
msgid "Our custom bean."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:366
#, no-wrap
msgid "More Detailed Examples"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:369
msgid "This section presents some more detailed examples of custom XML extensions."
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:371
#, no-wrap
msgid "Nesting Custom Elements within Custom Elements"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:375
msgid ""
"The example presented in this section shows how you to write the various "
"artifacts required to satisfy a target of the following configuration:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:385
#, no-wrap
msgid ""
"\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
"\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n"
"\t\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"
"\t\txmlns:foo=\"http://www.foo.example/schema/component\"\n"
"\t\txsi:schemaLocation=\"\n"
"\t\t\thttp://www.springframework.org/schema/beans "
"https://www.springframework.org/schema/beans/spring-beans.xsd\n"
"\t\t\thttp://www.foo.example/schema/component "
"http://www.foo.example/schema/component/component.xsd\">\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:393
#, no-wrap
msgid ""
"\t\t<foo:component id=\"bionic-family\" name=\"Bionic-1\">\n"
"\t\t\t<foo:component name=\"Mother-1\">\n"
"\t\t\t\t<foo:component name=\"Karate-1\"/>\n"
"\t\t\t\t<foo:component name=\"Sport-1\"/>\n"
"\t\t\t</foo:component>\n"
"\t\t\t<foo:component name=\"Rock-1\"/>\n"
"\t\t</foo:component>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:403
msgid ""
"The preceding configuration nests custom extensions within each other. The "
"class that is actually configured by the `<foo:component/>` element is the "
"`Component` class (shown in the next example). Notice how the `Component` "
"class does not expose a setter method for the `components` property. This "
"makes it hard (or rather impossible)  to configure a bean definition for the "
"`Component` class by using setter injection.  The following listing shows "
"the `Component` class:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:411
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:475
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:593
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:632
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:781
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:837
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:880
#, no-wrap
msgid "\tpackage com.foo;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:414
#, no-wrap
msgid ""
"\timport java.util.ArrayList;\n"
"\timport java.util.List;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:416
#, no-wrap
msgid "\tpublic class Component {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:419
#, no-wrap
msgid ""
"\t\tprivate String name;\n"
"\t\tprivate List<Component> components = new ArrayList<Component> ();\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:424
#, no-wrap
msgid ""
"\t\t// there is no setter method for the 'components'\n"
"\t\tpublic void addComponent(Component component) {\n"
"\t\t\tthis.components.add(component);\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:428
#, no-wrap
msgid ""
"\t\tpublic List<Component> getComponents() {\n"
"\t\t\treturn components;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:432
#, no-wrap
msgid ""
"\t\tpublic String getName() {\n"
"\t\t\treturn name;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:437
#, no-wrap
msgid ""
"\t\tpublic void setName(String name) {\n"
"\t\t\tthis.name = name;\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:444
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:517
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:609
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:683
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:801
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:855
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:936
#, no-wrap
msgid "\tpackage com.foo\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:446
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:946
#, no-wrap
msgid "\timport java.util.ArrayList\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:448
#, no-wrap
msgid "\tclass Component {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:451
#, no-wrap
msgid ""
"\t\tvar name: String? = null\n"
"\t\tprivate val components = ArrayList<Component>()\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:456
#, no-wrap
msgid ""
"\t\t// there is no setter method for the 'components'\n"
"\t\tfun addComponent(component: Component) {\n"
"\t\t\tthis.components.add(component)\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:461
#, no-wrap
msgid ""
"\t\tfun getComponents(): List<Component> {\n"
"\t\t\treturn components\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:467
msgid ""
"The typical solution to this issue is to create a custom `FactoryBean` that "
"exposes a setter property for the `components` property. The following "
"listing shows such a custom `FactoryBean`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:477
#, no-wrap
msgid "\timport org.springframework.beans.factory.FactoryBean;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:479
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:643
#, no-wrap
msgid "\timport java.util.List;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:481
#, no-wrap
msgid "\tpublic class ComponentFactoryBean implements FactoryBean<Component> {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:484
#, no-wrap
msgid ""
"\t\tprivate Component parent;\n"
"\t\tprivate List<Component> children;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:488
#, no-wrap
msgid ""
"\t\tpublic void setParent(Component parent) {\n"
"\t\t\tthis.parent = parent;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:492
#, no-wrap
msgid ""
"\t\tpublic void setChildren(List<Component> children) {\n"
"\t\t\tthis.children = children;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:501
#, no-wrap
msgid ""
"\t\tpublic Component getObject() throws Exception {\n"
"\t\t\tif (this.children != null && this.children.size() > 0) {\n"
"\t\t\t\tfor (Component child : children) {\n"
"\t\t\t\t\tthis.parent.addComponent(child);\n"
"\t\t\t\t}\n"
"\t\t\t}\n"
"\t\t\treturn this.parent;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:505
#, no-wrap
msgid ""
"\t\tpublic Class<Component> getObjectType() {\n"
"\t\t\treturn Component.class;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:510
#, no-wrap
msgid ""
"\t\tpublic boolean isSingleton() {\n"
"\t\t\treturn true;\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:520
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.FactoryBean\n"
"\timport org.springframework.stereotype.Component\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:522
#, no-wrap
msgid "\tclass ComponentFactoryBean : FactoryBean<Component> {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:525
#, no-wrap
msgid ""
"\t\tprivate var parent: Component? = null\n"
"\t\tprivate var children: List<Component>? = null\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:529
#, no-wrap
msgid ""
"\t\tfun setParent(parent: Component) {\n"
"\t\t\tthis.parent = parent\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:533
#, no-wrap
msgid ""
"\t\tfun setChildren(children: List<Component>) {\n"
"\t\t\tthis.children = children\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:542
#, no-wrap
msgid ""
"\t\toverride fun getObject(): Component? {\n"
"\t\t\tif (this.children != null && this.children!!.isNotEmpty()) {\n"
"\t\t\t\tfor (child in children!!) {\n"
"\t\t\t\t\tthis.parent!!.addComponent(child)\n"
"\t\t\t\t}\n"
"\t\t\t}\n"
"\t\t\treturn this.parent\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:546
#, no-wrap
msgid ""
"\t\toverride fun getObjectType(): Class<Component>? {\n"
"\t\t\treturn Component::class.java\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:551
#, no-wrap
msgid ""
"\t\toverride fun isSingleton(): Boolean {\n"
"\t\t\treturn true\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:559
msgid ""
"This works nicely, but it exposes a lot of Spring plumbing to the end "
"user. What we are going to do is write a custom extension that hides away "
"all of this Spring plumbing.  If we stick to "
"xref:core/appendix/xml-custom.adoc#core.appendix.xsd-custom-introduction[the "
"steps described previously], we start off by creating the XSD schema to "
"define the structure of our custom tag, as the following listing shows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:563
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:817
#, no-wrap
msgid "\t<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:569
#, no-wrap
msgid ""
"\t<xsd:schema xmlns=\"http://www.foo.example/schema/component\"\n"
"\t\t\txmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n"
"\t\t\ttargetNamespace=\"http://www.foo.example/schema/component\"\n"
"\t\t\telementFormDefault=\"qualified\"\n"
"\t\t\tattributeFormDefault=\"unqualified\">\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:579
#, no-wrap
msgid ""
"\t\t<xsd:element name=\"component\">\n"
"\t\t\t<xsd:complexType>\n"
"\t\t\t\t<xsd:choice minOccurs=\"0\" maxOccurs=\"unbounded\">\n"
"\t\t\t\t\t<xsd:element ref=\"component\"/>\n"
"\t\t\t\t</xsd:choice>\n"
"\t\t\t\t<xsd:attribute name=\"id\" type=\"xsd:ID\"/>\n"
"\t\t\t\t<xsd:attribute name=\"name\" use=\"required\" "
"type=\"xsd:string\"/>\n"
"\t\t\t</xsd:complexType>\n"
"\t\t</xsd:element>\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:581
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:826
#, no-wrap
msgid "\t</xsd:schema>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:585
msgid ""
"Again following "
"xref:core/appendix/xml-custom.adoc#core.appendix.xsd-custom-introduction[the "
"process described earlier], we then create a custom `NamespaceHandler`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:597
#, no-wrap
msgid "\tpublic class ComponentNamespaceHandler extends NamespaceHandlerSupport {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:602
#, no-wrap
msgid ""
"\t\tpublic void init() {\n"
"\t\t\tregisterBeanDefinitionParser(\"component\", new "
"ComponentBeanDefinitionParser());\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:613
#, no-wrap
msgid "\tclass ComponentNamespaceHandler : NamespaceHandlerSupport() {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:618
#, no-wrap
msgid ""
"\t\toverride fun init() {\n"
"\t\t\tregisterBeanDefinitionParser(\"component\", "
"ComponentBeanDefinitionParser())\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:624
msgid ""
"Next up is the custom `BeanDefinitionParser`. Remember that we are creating "
"a `BeanDefinition` that describes a `ComponentFactoryBean`. The following "
"listing shows our custom `BeanDefinitionParser` implementation:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:641
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.config.BeanDefinition;\n"
"\timport org.springframework.beans.factory.support.AbstractBeanDefinition;\n"
"\timport org.springframework.beans.factory.support.BeanDefinitionBuilder;\n"
"\timport org.springframework.beans.factory.support.ManagedList;\n"
"\timport "
"org.springframework.beans.factory.xml.AbstractBeanDefinitionParser;\n"
"\timport org.springframework.beans.factory.xml.ParserContext;\n"
"\timport org.springframework.util.xml.DomUtils;\n"
"\timport org.w3c.dom.Element;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:645
#, no-wrap
msgid ""
"\tpublic class ComponentBeanDefinitionParser extends "
"AbstractBeanDefinitionParser {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:649
#, no-wrap
msgid ""
"\t\tprotected AbstractBeanDefinition parseInternal(Element element, "
"ParserContext parserContext) {\n"
"\t\t\treturn parseComponentElement(element);\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:653
#, no-wrap
msgid ""
"\t\tprivate static AbstractBeanDefinition parseComponentElement(Element "
"element) {\n"
"\t\t\tBeanDefinitionBuilder factory = "
"BeanDefinitionBuilder.rootBeanDefinition(ComponentFactoryBean.class);\n"
"\t\t\tfactory.addPropertyValue(\"parent\", parseComponent(element));\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:658
#, no-wrap
msgid ""
"\t\t\tList<Element> childElements = "
"DomUtils.getChildElementsByTagName(element, \"component\");\n"
"\t\t\tif (childElements != null && childElements.size() > 0) {\n"
"\t\t\t\tparseChildComponents(childElements, factory);\n"
"\t\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:661
#, no-wrap
msgid ""
"\t\t\treturn factory.getBeanDefinition();\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:667
#, no-wrap
msgid ""
"\t\tprivate static BeanDefinition parseComponent(Element element) {\n"
"\t\t\tBeanDefinitionBuilder component = "
"BeanDefinitionBuilder.rootBeanDefinition(Component.class);\n"
"\t\t\tcomponent.addPropertyValue(\"name\", "
"element.getAttribute(\"name\"));\n"
"\t\t\treturn component.getBeanDefinition();\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:676
#, no-wrap
msgid ""
"\t\tprivate static void parseChildComponents(List<Element> childElements, "
"BeanDefinitionBuilder factory) {\n"
"\t\t\tManagedList<BeanDefinition> children = new "
"ManagedList<>(childElements.size());\n"
"\t\t\tfor (Element element : childElements) {\n"
"\t\t\t\tchildren.add(parseComponentElement(element));\n"
"\t\t\t}\n"
"\t\t\tfactory.addPropertyValue(\"children\", children);\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:692
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.config.BeanDefinition\n"
"\timport org.springframework.beans.factory.support.AbstractBeanDefinition\n"
"\timport org.springframework.beans.factory.support.BeanDefinitionBuilder\n"
"\timport org.springframework.beans.factory.support.ManagedList\n"
"\timport "
"org.springframework.beans.factory.xml.AbstractBeanDefinitionParser\n"
"\timport org.springframework.beans.factory.xml.ParserContext\n"
"\timport org.springframework.util.xml.DomUtils\n"
"\timport org.w3c.dom.Element\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:694
#, no-wrap
msgid "\timport java.util.List\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:696
#, no-wrap
msgid "\tclass ComponentBeanDefinitionParser : AbstractBeanDefinitionParser() {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:700
#, no-wrap
msgid ""
"\t\toverride fun parseInternal(element: Element, parserContext: "
"ParserContext): AbstractBeanDefinition? {\n"
"\t\t\treturn parseComponentElement(element)\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:704
#, no-wrap
msgid ""
"\t\tprivate fun parseComponentElement(element: Element): "
"AbstractBeanDefinition {\n"
"\t\t\tval factory = "
"BeanDefinitionBuilder.rootBeanDefinition(ComponentFactoryBean::class.java)\n"
"\t\t\tfactory.addPropertyValue(\"parent\", parseComponent(element))\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:709
#, no-wrap
msgid ""
"\t\t\tval childElements = DomUtils.getChildElementsByTagName(element, "
"\"component\")\n"
"\t\t\tif (childElements != null && childElements.size > 0) {\n"
"\t\t\t\tparseChildComponents(childElements, factory)\n"
"\t\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:712
#, no-wrap
msgid ""
"\t\t\treturn factory.getBeanDefinition()\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:718
#, no-wrap
msgid ""
"\t\tprivate fun parseComponent(element: Element): BeanDefinition {\n"
"\t\t\tval component = "
"BeanDefinitionBuilder.rootBeanDefinition(Component::class.java)\n"
"\t\t\tcomponent.addPropertyValue(\"name\", element.getAttribute(\"name\"))\n"
"\t\t\treturn component.beanDefinition\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:727
#, no-wrap
msgid ""
"\t\tprivate fun parseChildComponents(childElements: List<Element>, factory: "
"BeanDefinitionBuilder) {\n"
"\t\t\tval children = ManagedList<BeanDefinition>(childElements.size)\n"
"\t\t\tfor (element in childElements) {\n"
"\t\t\t\tchildren.add(parseComponentElement(element))\n"
"\t\t\t}\n"
"\t\t\tfactory.addPropertyValue(\"children\", children)\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:732
msgid ""
"Finally, the various artifacts need to be registered with the Spring XML "
"infrastructure, by modifying the `META-INF/spring.handlers` and "
"`META-INF/spring.schemas` files, as follows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:737
#, no-wrap
msgid ""
"# in 'META-INF/spring.handlers'\n"
"http\\://www.foo.example/schema/component=com.foo.ComponentNamespaceHandler\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:743
#, no-wrap
msgid ""
"# in 'META-INF/spring.schemas'\n"
"http\\://www.foo.example/schema/component/component.xsd=com/foo/component.xsd\n"
msgstr ""

#. type: Title ===
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:746
#, no-wrap
msgid "Custom Attributes on \"`Normal`\" Elements"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:753
msgid ""
"Writing your own custom parser and the associated artifacts is not "
"hard. However, it is sometimes not the right thing to do. Consider a "
"scenario where you need to add metadata to already existing bean "
"definitions. In this case, you certainly do not want to have to write your "
"own entire custom extension. Rather, you merely want to add an additional "
"attribute to the existing bean definition element."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:759
msgid ""
"By way of another example, suppose that you define a bean definition for a "
"service object that (unknown to it) accesses a clustered {JSR}107[JCache], "
"and you want to ensure that the named JCache instance is eagerly started "
"within the surrounding cluster.  The following listing shows such a "
"definition:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:766
#, no-wrap
msgid ""
"\t<bean id=\"checkingAccountService\" "
"class=\"com.foo.DefaultCheckingAccountService\"\n"
"\t\t\tjcache:cache-name=\"checking.account\">\n"
"\t\t<!-- other dependencies here... -->\n"
"\t</bean>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:773
msgid ""
"We can then create another `BeanDefinition` when the `'jcache:cache-name'` "
"attribute is parsed. This `BeanDefinition` then initializes the named JCache "
"for us. We can also modify the existing `BeanDefinition` for the "
"`'checkingAccountService'` so that it has a dependency on this new "
"JCache-initializing `BeanDefinition`. The following listing shows our "
"`JCacheInitializer`:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:783
#, no-wrap
msgid "\tpublic class JCacheInitializer {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:785
#, no-wrap
msgid "\t\tprivate final String name;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:789
#, no-wrap
msgid ""
"\t\tpublic JCacheInitializer(String name) {\n"
"\t\t\tthis.name = name;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:794
#, no-wrap
msgid ""
"\t\tpublic void initialize() {\n"
"\t\t\t// lots of JCache API calls to initialize the named cache...\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:803
#, no-wrap
msgid "\tclass JCacheInitializer(private val name: String) {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:808
#, no-wrap
msgid ""
"\t\tfun initialize() {\n"
"\t\t\t// lots of JCache API calls to initialize the named cache...\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:813
msgid ""
"Now we can move onto the custom extension. First, we need to author the XSD "
"schema that describes the custom attribute, as follows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:822
#, no-wrap
msgid ""
"\t<xsd:schema xmlns=\"http://www.foo.example/schema/jcache\"\n"
"\t\t\txmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n"
"\t\t\ttargetNamespace=\"http://www.foo.example/schema/jcache\"\n"
"\t\t\telementFormDefault=\"qualified\">\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:824
#, no-wrap
msgid "\t\t<xsd:attribute name=\"cache-name\" type=\"xsd:string\"/>\n"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:829
msgid "Next, we need to create the associated `NamespaceHandler`, as follows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:841
#, no-wrap
msgid "\tpublic class JCacheNamespaceHandler extends NamespaceHandlerSupport {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:846
#, no-wrap
msgid ""
"\t\tpublic void init() {\n"
"\t\t\tsuper.registerBeanDefinitionDecoratorForAttribute(\"cache-name\",\n"
"\t\t\t\tnew JCacheInitializingBeanDefinitionDecorator());\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:859
#, no-wrap
msgid "\tclass JCacheNamespaceHandler : NamespaceHandlerSupport() {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:864
#, no-wrap
msgid ""
"\t\toverride fun init() {\n"
"\t\t\tsuper.registerBeanDefinitionDecoratorForAttribute(\"cache-name\",\n"
"\t\t\t\t\tJCacheInitializingBeanDefinitionDecorator())\n"
"\t\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:872
msgid ""
"Next, we need to create the parser. Note that, in this case, because we are "
"going to parse an XML attribute, we write a `BeanDefinitionDecorator` rather "
"than a `BeanDefinitionParser`.  The following listing shows our "
"`BeanDefinitionDecorator` implementation:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:888
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.config.BeanDefinitionHolder;\n"
"\timport org.springframework.beans.factory.support.AbstractBeanDefinition;\n"
"\timport org.springframework.beans.factory.support.BeanDefinitionBuilder;\n"
"\timport org.springframework.beans.factory.xml.BeanDefinitionDecorator;\n"
"\timport org.springframework.beans.factory.xml.ParserContext;\n"
"\timport org.w3c.dom.Attr;\n"
"\timport org.w3c.dom.Node;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:892
#, no-wrap
msgid ""
"\timport java.util.ArrayList;\n"
"\timport java.util.Arrays;\n"
"\timport java.util.List;\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:894
#, no-wrap
msgid ""
"\tpublic class JCacheInitializingBeanDefinitionDecorator implements "
"BeanDefinitionDecorator {\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:896
#, no-wrap
msgid "\t\tprivate static final String[] EMPTY_STRING_ARRAY = new String[0];\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:903
#, no-wrap
msgid ""
"\t\tpublic BeanDefinitionHolder decorate(Node source, BeanDefinitionHolder "
"holder,\n"
"\t\t\t\tParserContext ctx) {\n"
"\t\t\tString initializerBeanName = registerJCacheInitializer(source, ctx);\n"
"\t\t\tcreateDependencyOnJCacheInitializer(holder, initializerBeanName);\n"
"\t\t\treturn holder;\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:917
#, no-wrap
msgid ""
"\t\tprivate void createDependencyOnJCacheInitializer(BeanDefinitionHolder "
"holder,\n"
"\t\t\t\tString initializerBeanName) {\n"
"\t\t\tAbstractBeanDefinition definition = ((AbstractBeanDefinition) "
"holder.getBeanDefinition());\n"
"\t\t\tString[] dependsOn = definition.getDependsOn();\n"
"\t\t\tif (dependsOn == null) {\n"
"\t\t\t\tdependsOn = new String[]{initializerBeanName};\n"
"\t\t\t} else {\n"
"\t\t\t\tList dependencies = new ArrayList(Arrays.asList(dependsOn));\n"
"\t\t\t\tdependencies.add(initializerBeanName);\n"
"\t\t\t\tdependsOn = (String[]) dependencies.toArray(EMPTY_STRING_ARRAY);\n"
"\t\t\t}\n"
"\t\t\tdefinition.setDependsOn(dependsOn);\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:929
#, no-wrap
msgid ""
"\t\tprivate String registerJCacheInitializer(Node source, ParserContext ctx) "
"{\n"
"\t\t\tString cacheName = ((Attr) source).getValue();\n"
"\t\t\tString beanName = cacheName + \"-initializer\";\n"
"\t\t\tif (!ctx.getRegistry().containsBeanDefinition(beanName)) {\n"
"\t\t\t\tBeanDefinitionBuilder initializer = "
"BeanDefinitionBuilder.rootBeanDefinition(JCacheInitializer.class);\n"
"\t\t\t\tinitializer.addConstructorArg(cacheName);\n"
"\t\t\t\tctx.getRegistry().registerBeanDefinition(beanName, "
"initializer.getBeanDefinition());\n"
"\t\t\t}\n"
"\t\t\treturn beanName;\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:944
#, no-wrap
msgid ""
"\timport org.springframework.beans.factory.config.BeanDefinitionHolder\n"
"\timport org.springframework.beans.factory.support.AbstractBeanDefinition\n"
"\timport org.springframework.beans.factory.support.BeanDefinitionBuilder\n"
"\timport org.springframework.beans.factory.xml.BeanDefinitionDecorator\n"
"\timport org.springframework.beans.factory.xml.ParserContext\n"
"\timport org.w3c.dom.Attr\n"
"\timport org.w3c.dom.Node\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:948
#, no-wrap
msgid ""
"\tclass JCacheInitializingBeanDefinitionDecorator : BeanDefinitionDecorator "
"{\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:955
#, no-wrap
msgid ""
"\t\toverride fun decorate(source: Node, holder: BeanDefinitionHolder,\n"
"\t\t\t\t\t\t\tctx: ParserContext): BeanDefinitionHolder {\n"
"\t\t\tval initializerBeanName = registerJCacheInitializer(source, ctx)\n"
"\t\t\tcreateDependencyOnJCacheInitializer(holder, initializerBeanName)\n"
"\t\t\treturn holder\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:969
#, no-wrap
msgid ""
"\t\tprivate fun createDependencyOnJCacheInitializer(holder: "
"BeanDefinitionHolder,\n"
"\t\t\t\t\t\t\t\t\t\t\t\t\t\tinitializerBeanName: String) {\n"
"\t\t\tval definition = holder.beanDefinition as AbstractBeanDefinition\n"
"\t\t\tvar dependsOn = definition.dependsOn\n"
"\t\t\tdependsOn = if (dependsOn == null) {\n"
"\t\t\t\tarrayOf(initializerBeanName)\n"
"\t\t\t} else {\n"
"\t\t\t\tval dependencies = ArrayList(listOf(*dependsOn))\n"
"\t\t\t\tdependencies.add(initializerBeanName)\n"
"\t\t\t\tdependencies.toTypedArray()\n"
"\t\t\t}\n"
"\t\t\tdefinition.setDependsOn(*dependsOn)\n"
"\t\t}\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:981
#, no-wrap
msgid ""
"\t\tprivate fun registerJCacheInitializer(source: Node, ctx: ParserContext): "
"String {\n"
"\t\t\tval cacheName = (source as Attr).value\n"
"\t\t\tval beanName = \"$cacheName-initializer\"\n"
"\t\t\tif (!ctx.registry.containsBeanDefinition(beanName)) {\n"
"\t\t\t\tval initializer = "
"BeanDefinitionBuilder.rootBeanDefinition(JCacheInitializer::class.java)\n"
"\t\t\t\tinitializer.addConstructorArg(cacheName)\n"
"\t\t\t\tctx.registry.registerBeanDefinition(beanName, "
"initializer.getBeanDefinition())\n"
"\t\t\t}\n"
"\t\t\treturn beanName\n"
"\t\t}\n"
"\t}\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:986
msgid ""
"Finally, we need to register the various artifacts with the Spring XML "
"infrastructure by modifying the `META-INF/spring.handlers` and "
"`META-INF/spring.schemas` files, as follows:"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:991
#, no-wrap
msgid ""
"# in 'META-INF/spring.handlers'\n"
"http\\://www.foo.example/schema/jcache=com.foo.JCacheNamespaceHandler\n"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/framework-docs/modules/ROOT/pages/core/appendix/xml-custom.adoc:997
#, no-wrap
msgid ""
"# in 'META-INF/spring.schemas'\n"
"http\\://www.foo.example/schema/jcache/jcache.xsd=com/foo/jcache.xsd\n"
msgstr ""

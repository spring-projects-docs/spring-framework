# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2026-01-22 17:12+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:2
#, no-wrap
msgid "Data Buffers and Codecs"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:10
msgid ""
"Java NIO provides `ByteBuffer` but many libraries build their own byte "
"buffer API on top, especially for network operations where reusing buffers "
"and/or using direct buffers is beneficial for performance. For example Netty "
"has the `ByteBuf` hierarchy, Jetty uses pooled byte buffers with a callback "
"to be released, and so on.  The `spring-core` module provides a set of "
"abstractions to work with various byte buffer APIs as follows:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:12
msgid ""
"xref:core/databuffer-codec.adoc#databuffers-factory[`DataBufferFactory`] "
"abstracts the creation of a data buffer."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:14
msgid ""
"xref:core/databuffer-codec.adoc#databuffers-buffer[`DataBuffer`] represents "
"a byte buffer, which may be "
"xref:core/databuffer-codec.adoc#databuffers-buffer-pooled[pooled]."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:15
msgid ""
"xref:core/databuffer-codec.adoc#databuffers-utils[`DataBufferUtils`] offers "
"utility methods for data buffers."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:16
msgid "<<Codecs>> decode or encode data buffer streams into higher level objects."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:19
#, no-wrap
msgid "`DataBufferFactory`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:22
msgid "`DataBufferFactory` is used to create data buffers in one of two ways:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:25
msgid ""
"Allocate a new data buffer, optionally specifying capacity upfront, if "
"known, which is more efficient even though implementations of `DataBuffer` "
"can grow and shrink on demand."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:27
msgid ""
"Wrap an existing `byte[]` or `java.nio.ByteBuffer`, which decorates the "
"given data with a `DataBuffer` implementation and that does not involve "
"allocation."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:32
msgid ""
"Note that WebFlux applications do not create a `DataBufferFactory` directly "
"but instead access it through the `ServerHttpResponse` or the "
"`ClientHttpRequest` on the client side.  The type of factory depends on the "
"underlying client or server, for example, `NettyDataBufferFactory` for "
"Reactor Netty, `DefaultDataBufferFactory` for others."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:35
#, no-wrap
msgid "`DataBuffer`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:40
msgid ""
"The `DataBuffer` interface offers similar operations as "
"`java.nio.ByteBuffer` but also brings a few additional benefits some of "
"which are inspired by the Netty `ByteBuf`.  Below is a partial list of "
"benefits:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:43
msgid ""
"Read and write with independent positions, i.e. not requiring a call to "
"`flip()` to alternate between read and write."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:44
msgid "Capacity expanded on demand as with `java.lang.StringBuilder`."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:45
msgid ""
"Pooled buffers and reference counting via "
"xref:core/databuffer-codec.adoc#databuffers-buffer-pooled[`PooledDataBuffer`]."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:46
msgid "View a buffer as `java.nio.ByteBuffer`, `InputStream`, or `OutputStream`."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:47
msgid "Determine the index, or the last index, for a given byte."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:50
#, no-wrap
msgid "`PooledDataBuffer`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:58
msgid ""
"As explained in the Javadoc for "
"{java-api}/java.base/java/nio/ByteBuffer.html[ByteBuffer], byte buffers can "
"be direct or non-direct. Direct buffers may reside outside the Java heap "
"which eliminates the need for copying for native I/O operations. That makes "
"direct buffers particularly useful for receiving and sending data over a "
"socket, but they're also more expensive to create and release, which leads "
"to the idea of pooling buffers."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:66
msgid ""
"`PooledDataBuffer` is an extension of `DataBuffer` that helps with reference "
"counting which is essential for byte buffer pooling. How does it work? When "
"a `PooledDataBuffer` is allocated the reference count is at 1. Calls to "
"`retain()` increment the count, while calls to `release()` decrement it. As "
"long as the count is above 0, the buffer is guaranteed not to be "
"released. When the count is decreased to 0, the pooled buffer can be "
"released, which in practice could mean the reserved memory for the buffer is "
"returned to the memory pool."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:70
msgid ""
"Note that instead of operating on `PooledDataBuffer` directly, in most cases "
"it's better to use the convenience methods in `DataBufferUtils` that apply "
"release or retain to a `DataBuffer` only if it is an instance of "
"`PooledDataBuffer`."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:73
#, no-wrap
msgid "`DataBufferUtils`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:76
msgid ""
"`DataBufferUtils` offers a number of utility methods to operate on data "
"buffers:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:79
msgid ""
"Join a stream of data buffers into a single buffer possibly with zero copy, "
"for example, via composite buffers, if that's supported by the underlying "
"byte buffer API."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:81
msgid ""
"Turn `InputStream` or NIO `Channel` into `Flux<DataBuffer>`, and vice versa "
"a `Publisher<DataBuffer>` into `OutputStream` or NIO `Channel`."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:83
msgid ""
"Methods to release or retain a `DataBuffer` if the buffer is an instance of "
"`PooledDataBuffer`."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:84
msgid "Skip or take from a stream of bytes until a specific byte count."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:87
#, no-wrap
msgid "Codecs"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:90
msgid ""
"The `org.springframework.core.codec` package provides the following strategy "
"interfaces:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:92
msgid "`Encoder` to encode `Publisher<T>` into a stream of data buffers."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:93
msgid ""
"`Decoder` to decode `Publisher<DataBuffer>` into a stream of higher level "
"objects."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:98
msgid ""
"The `spring-core` module provides `byte[]`, `ByteBuffer`, `DataBuffer`, "
"`Resource`, and `String` encoder and decoder implementations. The "
"`spring-web` module adds Jackson JSON, Jackson Smile, JAXB2, Protocol "
"Buffers and other encoders and decoders. See "
"xref:web/webflux/reactive-spring.adoc#webflux-codecs[Codecs] in the WebFlux "
"section."
msgstr ""

#. type: Title ==
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:101
#, no-wrap
msgid "Using `DataBuffer`"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:107
msgid ""
"When working with data buffers, special care must be taken to ensure buffers "
"are released since they may be "
"xref:core/databuffer-codec.adoc#databuffers-buffer-pooled[pooled]. We'll use "
"codecs to illustrate how that works but the concepts apply more "
"generally. Let's see what codecs must do internally to manage data buffers."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:110
msgid ""
"A `Decoder` is the last to read input data buffers, before creating higher "
"level objects, and therefore it must release them as follows:"
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:113
msgid ""
"If a `Decoder` simply reads each input buffer and is ready to release it "
"immediately, it can do so via `DataBufferUtils.release(dataBuffer)`."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:119
msgid ""
"If a `Decoder` is using `Flux` or `Mono` operators such as `flatMap`, "
"`reduce`, and others that prefetch and cache data items internally, or is "
"using operators such as `filter`, `skip`, and others that leave out items, "
"then `doOnDiscard(DataBuffer.class, DataBufferUtils::release)` must be added "
"to the composition chain to ensure such buffers are released prior to being "
"discarded, possibly also as a result of an error or cancellation signal."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:122
msgid ""
"If a `Decoder` holds on to one or more data buffers in any other way, it "
"must ensure they are released when fully read, or in case of an error or "
"cancellation signals that take place before the cached data buffers have "
"been read and released."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:126
msgid ""
"Note that `DataBufferUtils#join` offers a safe and efficient way to "
"aggregate a data buffer stream into a single data buffer. Likewise "
"`skipUntilByteCount` and `takeUntilByteCount` are additional safe methods "
"for decoders to use."
msgstr ""

#. type: Plain text
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:130
msgid ""
"An `Encoder` allocates data buffers that others must read (and release). So "
"an `Encoder` doesn't have much to do. However an `Encoder` must take care to "
"release a data buffer if a serialization error occurs while populating the "
"buffer with data. For example:"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:133
#, no-wrap
msgid "Java"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:149
#, no-wrap
msgid ""
"\tDataBuffer buffer = factory.allocateBuffer();\n"
"\tboolean release = true;\n"
"\ttry {\n"
"\t\t// serialize and populate buffer..\n"
"\t\trelease = false;\n"
"\t}\n"
"\tfinally {\n"
"\t\tif (release) {\n"
"\t\t\tDataBufferUtils.release(buffer);\n"
"\t\t}\n"
"\t}\n"
"\treturn buffer;\n"
msgstr ""

#. type: Labeled list
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:151
#, no-wrap
msgid "Kotlin"
msgstr ""

#. type: delimited block -
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:166
#, no-wrap
msgid ""
"\tval buffer = factory.allocateBuffer()\n"
"\tvar release = true\n"
"\ttry {\n"
"\t\t// serialize and populate buffer..\n"
"\t\trelease = false\n"
"\t} finally {\n"
"\t\tif (release) {\n"
"\t\t\tDataBufferUtils.release(buffer)\n"
"\t\t}\n"
"\t}\n"
"\treturn buffer\n"
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:173
msgid ""
"The consumer of an `Encoder` is responsible for releasing the data buffers "
"it receives.  In a WebFlux application, the output of the `Encoder` is used "
"to write to the HTTP server response, or to the client HTTP request, in "
"which case releasing the data buffers is the responsibility of the code "
"writing to the server response, or to the client request."
msgstr ""

#. type: delimited block =
#: /mnt/c/Users/etrees/Desktop/private/spring-framework/origin/framework-docs/modules/ROOT/pages/core/databuffer-codec.adoc:175
msgid ""
"Note that when running on Netty, there are debugging options for "
"https://github.com/netty/netty/wiki/Reference-counted-objects#troubleshooting-buffer-leaks[troubleshooting "
"buffer leaks]."
msgstr ""
